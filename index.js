(()=>{var{sin:d,cos:l}=Math;function g(e,t){return[t*e[0],t*e[1]]}function i(e,t){return[e[0]+t[0],e[1]+t[1]]}function C(e,t){return i(e,g(t,-1))}function V(e,t,n){let[r,a]=C(e,t),s=[r*l(n)-a*d(n),r*d(n)+a*l(n)];return i(s,t)}var c=100;function p(e,t){if(t.length===0)return;let[n,...r]=t;e.beginPath(),e.moveTo(...n),r.forEach(a=>e.lineTo(...a)),e.closePath(),e.fillStyle=`hsl(${(performance.now()/100+(n[0]+n[1])/20)%360}, 100%, 50%, .5)`,e.fill()}function A(e){let t=e%(Math.PI*.5),n=.75*Math.PI-t;return .5*c*Math.sqrt(2)*Math.sin(n)-1}function M(e,t){let n=performance.now()/1e3%(Math.PI*2),r=A(n),a=[[r,0],[0,r],[-r,0],[0,-r]],s=o=>i(o,t),u=o=>V(o,t,n),m=a.map(s).map(u);p(e,m)}function f(e){let t=[e.width/2,e.height/2],n=[t[0]%c-c,t[1]%c-c],r=[n],a=e.width/c+2;for(let o=1;o<a;o++)r.push(i(n,[o*c,0]));let s=[r],u=e.height/c+2;for(let o=1;o<u;o++)s.push(r.map(w=>i(w,[0,o*c])));let m=o=>M(e.getContext("2d"),o);s.flat().forEach(m)}function q(e){return e.nodeName==="CANVAS"}function h(e){e.height=window.innerHeight,e.width=window.innerWidth}document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("canvas");if(!q(e))throw new Error("Could not find canvas element in HTML");h(e);let t=n=>{h(e),f(e),window.requestAnimationFrame(t)};window.requestAnimationFrame(t)});})();
